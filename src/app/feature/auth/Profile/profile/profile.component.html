<!-- profile.component.html -->
<div class="container mt-4">
  <h2 class="text-center mb-4">User Profile</h2>

  <!-- Profile Section -->
  <div class="card mb-4 shadow-sm border-light">
    <div class="card-body">
      <div class="d-flex align-items-center">
        <!-- Profile Image -->
        <p-avatar [image]="profileImage" size="large" class="mr-3 rounded-circle border" style="border-width: 3px;"></p-avatar>

        <!-- Profile Information -->
        <div>
          <h4 class="mb-1">{{ userName }}</h4>
          <p class="text-muted">{{ userEmail }}</p>
          <button pButton type="button" label="Edit Profile" icon="pi pi-pencil" (click)="editProfile()" class="btn btn-primary"></button>
        </div>
      </div>

      <!-- Edit Profile Form -->
      <div *ngIf="editMode" class="mt-4">
        <form (ngSubmit)="saveProfile()">
          <div class="form-group">
            <label for="profileName">Name</label>
            <input id="profileName" type="text" pInputText name="userName" [(ngModel)]="userName" class="form-control" />
          </div>
          <div class="form-group mt-3">
            <label for="profileEmail">Email</label>
            <input id="profileEmail" type="email" pInputText name="userEmail" [(ngModel)]="userEmail" class="form-control" />
          </div>
          <button pButton type="submit" label="Save" icon="pi pi-check" class="btn btn-success mt-2"></button>
          <button pButton type="button" label="Cancel" icon="pi pi-times" (click)="cancelEdit()" class="btn btn-secondary mt-2 ml-2"></button>
        </form>
      </div>
    </div>
  </div>

  <!-- Certificates Table -->
  <div class="card mb-4 shadow-sm border-light">
    <div class="card-body">
      <h4 class="mb-3">Earned Certificates</h4>
      <table class="table table-striped">
        <thead>
        <tr>
          <th>Certificate Name</th>
          <th>Date Earned</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let certificate of certificates">
          <td>{{ certificate.name }}</td>
          <td>{{ certificate.date | date }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Ongoing Courses Table -->
  <div class="card shadow-sm border-light">
    <div class="card-body">
      <h4 class="mb-3">Ongoing Courses</h4>
      <table class="table table-striped">
        <thead>
        <tr>
          <th>Course Name</th>
          <th>Start Date</th>
          <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let course of ongoingCourses">
          <td>{{ course.name }}</td>
          <td>{{ course.startDate | date }}</td>
          <td>{{ course.status }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
